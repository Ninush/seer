---
output: github_document
---
# seer <img src="logo/seer.png" align="right" height="200"/>

[![Project Status: Active ? The project has reached a stable, usable state and is being actively developed.](http://www.repostatus.org/badges/latest/active.svg)](http://www.repostatus.org/#active)
[![Build Status](https://travis-ci.org/thiyangt/seer.svg?branch=master)](https://travis-ci.org/thiyangt/seer)
 
---

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```


The `seer` package provides implementations of a novel framework for forecast model selection using time series features. We call this framework **FFORMS** (**F**eature-based **FOR**ecast **M**odel **S**election). For more details see our [paper](https://www.monash.edu/business/econometrics-and-business-statistics/research/publications/ebs/wp06-2018.pdf).

## Installation

You can install seer from github with:

```{r gh-installation, eval = FALSE}
# install.packages("devtools")
devtools::install_github("thiyangt/seer")
library(seer)
```


## Usage

The FFORMS framework consists of two main phases: i) offline phase, which includes the development of a classification model and ii) online phase, use the classification model developed in the offline phase to identify "best" forecast-model. This document explains the main functions using a simple dataset based on M3-competition data. To load data

```{r, warning=FALSE, message=FALSE}
library(Mcomp)
data(M3)
yearly_m3 <- subset(M3, "yearly")
m3y <- M3[1:2]
```

### FFORMS: offline phase 

**Augmenting the observed sample with simulated time series.**

`sim_arimabased` can be used to simulate time series based on (S)ARIMA models.

```{r, message=FALSE}
library(seer)
simulated_arima <- lapply(m3y, sim_arimabased, Future=TRUE, Nsim=2, extralength=6, Combine=FALSE)
simulated_arima

```

Similarly, `sim_etsbased` can be used to simulate time series based on ETS models.

```{r, message=FALSE, eval=FALSE}
simulated_ets <- lapply(m3y, sim_etsbased, Future=TRUE, Nsim=2, extralength=6, Combine=FALSE)
simulated_ets
```

**Calculate features based on the training period of time series.**

`cal_features` function can be used to calculate relevant features.

```{r features, warning=FALSE, message=FALSE}
library(tsfeatures)
M3yearly_features <- cal_features(yearly_m3,database="M3", h=6, highfreq = FALSE)
head(M3yearly_features)
```

**Calculate forecast accuracy measure(s)**

```{r accuracy, message=FALSE}
tslist <- list(M3[[1]], M3[[2]])
fcast_accuracy(tslist=tslist,models= c("arima","ets","rw","rwd", "theta", "nn"),database ="M3", cal_MASE, h=6, length_out = 1)

```
